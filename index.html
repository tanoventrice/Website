<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Crypto Watch: XRP / XLM / SOL Tracker</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css?family=Inter:400,700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Inter', Arial, sans-serif;
      background: #f6f9fc;
      margin: 0;
      color: #1a2233;
    }
    header {
      background: #111827;
      color: #fff;
      padding: 1em 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-left: 2em; padding-right: 2em;
    }
    .logo { font-size: 1.7em; letter-spacing: 2px; font-weight: bold; }
    nav a {
      color: #fff; text-decoration: none; margin: 0 1em; font-weight: 500; 
      transition: color 0.2s;
    }
    nav a:hover { color: #10b6e6; }
    .dashboard { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 2em; margin: 2em auto; max-width: 1200px;}
    .coin-card {
      background: #fff;
      border-radius: 11px;
      box-shadow: 0 2px 16px 0 rgba(42,65,112,0.07);
      padding: 1.7em 1.3em;
      text-align: center;
      position: relative;
    }
    .coin-logo { width: 48px; height: 48px; margin-bottom: 0.5em; }
    .coin-symbol { font-size: 1.4em; font-weight: bold; }
    .coin-name { color: #7a859e; margin-bottom: 0.7em; }
    .coin-price { font-size: 1.6em; margin-bottom: 0.4em; }
    .coin-change { font-size: 1.1em; }
    .change-up { color: #16c784; }
    .change-down { color: #ea3943; }
    .chart-container { width: 100%; min-height: 220px; margin-top: 1.3em;}
    footer { text-align: center; margin: 3em 0 1em 0; color: #888;}
    @media (max-width: 900px) {
      .dashboard { grid-template-columns: 1fr; gap: 2em;}
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">Crypto Watch</div>
    <nav>
      <a href="index.html">Home</a>
      <a href="prices.html">Prices</a>
      <a href="news.html">News</a>
      <a href="analytics.html">Analytics</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>
  <main>
    <section class="dashboard" id="dashboard">
      <!-- JS fills coin cards here -->
    </section>
  </main>
  <footer>
    &copy; 2025 Crypto Watch. All rights reserved.
  </footer>
  <script>
    const coins = [
      { id: 'ripple', symbol: 'XRP', name: 'XRP', logo: 'https://assets.coingecko.com/coins/images/44/small/xrp-symbol-white-128.png' },
      { id: 'stellar', symbol: 'XLM', name: 'Stellar', logo: 'https://assets.coingecko.com/coins/images/100/small/Stellar_symbol_black_RGB.png' },
      { id: 'solana', symbol: 'SOL', name: 'Solana', logo: 'https://assets.coingecko.com/coins/images/4128/small/solana.png' }
    ];

    async function fetchMarketData() {
      const url = 'https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=ripple,stellar,solana&order=market_cap_desc&per_page=3&page=1&sparkline=true&price_change_percentage=24h';
      try {
        const res = await fetch(url);
        const data = await res.json();
        renderDashboard(data);
      } catch (e) {
        document.getElementById('dashboard').innerHTML = '<div>Error loading data</div>';
      }
    }

    function renderDashboard(data) {
      const dashboard = document.getElementById('dashboard');
      dashboard.innerHTML = '';
      data.forEach((coin, idx) => {
        const changeClass = coin.price_change_percentage_24h >= 0 ? 'change-up' : 'change-down';
        dashboard.innerHTML += `
          <div class="coin-card">
            <img src="${coin.image}" alt="${coin.name}" class="coin-logo"/>
            <div class="coin-symbol">${coin.symbol}</div>
            <div class="coin-name">${coin.name}</div>
            <div class="coin-price">$${coin.current_price.toLocaleString()}</div>
            <div class="coin-change ${changeClass}">${coin.price_change_percentage_24h.toFixed(2)}%</div>
            <div class="chart-container">
              <canvas id="chart-${idx}"></canvas>
            </div>
          </div>
        `;
      });
      // Draw charts
      data.forEach((coin, idx) => {
        if (coin.sparkline_in_7d && coin.sparkline_in_7d.price) {
          new Chart(document.getElementById('chart-' + idx), {
            type: 'line',
            data: {
              labels: coin.sparkline_in_7d.price.map((_, i) => i),
              datasets: [{
                data: coin.sparkline_in_7d.price,
                borderColor: "#10b6e6",
                backgroundColor: "rgba(16,182,230,0.09)",
                pointRadius: 0,
                fill: true,
                tension: 0.18,
              }],
            },
            options: {
              plugins: { legend: { display: false } },
              scales: {
                x: { display: false },
                y: { display: false }
              },
              elements: {
                line: { borderWidth: 2 },
              },
              responsive: true,
              maintainAspectRatio: false,
            }
          });
        }
      });
    }

    fetchMarketData();
    setInterval(fetchMarketData, 60000); // update every minute
  </script>
</body>
</html>